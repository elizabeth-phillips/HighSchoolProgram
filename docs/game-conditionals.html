--- 
layout: default
--- 

<h1> Adding conditionals to the game!</h1>
<p>We left off getting the user's x,y coordinates of where the player clicked.  We're going to use our new found knowledge of conditionals to figure out if the user clicked on a row, column, or in some other random space.</p>
<pre><code class="python language-python">
    def handle_click(e):
        print("someone clicked", e.x, e.y)
</code></pre>

<h2>Add Logical Grid Position</h2>
<p>We're going to start by transforming the x,y coordinates to a logical position on our grid. <br>
Let's create a function that will accept x,y coordinates and return two value: 
<ul>
    <li>Did the click occur on a line?  Boolean</li>
    <li>Was it a row or a column? String</li>
    <li>Where in the grid did the player click? Numberical Grid Position</li>
</ul></p>

<p>Create a function called get_logical_position and pass the x,y coordinates to it. <br>
<pre><code class="python language-python">

# .... 
def get_logical_position(x, y):
  print(x,y)

def handle_click(e):
  get_logical_position(e.x, e.y)
</code></pre>

<h3>Get logical position</h3>
 </p>
<p>Add the following to the <code>get_logical_position</code> function:</p>
<pre><code class="python language-python">
    xlog = (x - 25) // 50
    ylog = (y - 25) // 50
</code></pre>
<p>
    For each coordinate we start by subtracting the margin of 25px, then divide the board up by half the distance between dots (50px).  We get a whole number grid that looks like this:
</p>
<p><img src="./images/grid_positions.png" /></p>
<p> Now we can determine which col or row was selected! Notice how all the rows have (odd, even) coordinates and the columns have (even, odd) coordinates.</p>
<p>
    Finish writing the <code>get_logical_position</code> function so that:
    - if a row was selected the function returns the logical coordinates [xlog, ylog], and "row"
    - if a column was selected the function returns the logical coordinates [xlog, ylog] and "col"
    - if neither a row or column was selected the function returns an empty list [] and an empty string.
    <b>Hint:</b> This function is make a little easier by utilizing the following function:
    <pre><code class="python language-python">
        def isEven(n): 
            return n % 2 == 0
    </code>
</p>

<h2>Tracking Game Status</h2>
<p>So now we know where the player is clicking and what line if any they clicked on. Here's what we need to do next in our handle click function:
    <ol>
        <li>If click is not a row or col, then return.</li>
        <li>If the line is unmarked, we need to mark it</li>
        <li>If it completes a box, shade it and give a point to the current player.</li>
        <li>If it ends the game, show the final score, if not, change players.</li>
    </ol>
</p>
<p>
    Go ahead and write the conditional statement to return from the function if the click is NOT a row or col.
</p>

<h2>Game Status</h2>
<p>
    To kick off tracking the game status we're going to add two variables to the top of the file with the other variables.
</p>
<pre><code class="python language-python">
    player_turn = 1;
    player1_points = 0
    player2_points = 0
    marked_lines = []
</code></pre>


